<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ssafy.newbit.model.mapper.UserMapper">
	<!--  회원가입  -->
	<insert id="addUser" parameterType="com.ssafy.newbit.model.UserDto" >  
		insert into user(user_email, user_id, user_nick, user_password, user_date) 
		values(#{userEmail}, #{userId}, #{userNick}, #{userPassword}, now())
	</insert>
	
	<!--  아이디 중복체크 -->
	<select id="checkId" parameterType="String" resultType="int">
        SELECT COUNT(user_id) FROM USER WHERE user_id= #{userId}
    </select>
    
    <!--  이메일 중복체크 -->
	<select id="checkEmail" parameterType="String" resultType="int">
        SELECT COUNT(user_email) FROM USER WHERE user_email= #{userEmail}
    </select>

	<!--  for  프로필 조회 -->
	<select id="getUser" parameterType="int"
		resultType="com.ssafy.newbit.model.UserDto">
		select user_id `userId`, user_nick `userNick`, user_img `userImg`, 
		user_postcount `userPostCount`, user_followercount `userFollowerCount`, user_followingcount `userFollowingCount`,
		user_intro `userIntro`, user_keyword `userKeyword`
		from user
		where user_code = #{userCode}
	</select>
	
</mapper>